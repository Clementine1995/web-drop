# HTTP相关问题

>[关于大厂面试中问到的二十几个HTTP面试题](https://juejin.im/post/5e015a60e51d45583d426a15)
>
>[「查缺补漏」巩固你的HTTP知识体系](https://juejin.im/post/6857287743966281736)

## 301/302/303/307/308的区别

>[详解重定向（HTTP状态码301/302/303/307/308）附例子](https://www.cnblogs.com/wuguanglin/p/redirect.html)

301，302是http1.0的内容，303、307、308是http1.1的内容。

301和302本来在规范中是不允许重定向时改变请求方法的（将POST改为GET），但是许多浏览器却允许重定向时改变请求方法（这是一种不规范的实现）。

303的出现正是为了给上面的301，302这种行为作出个规范（将错就错吧），也就是允许重定向时改变请求方法，303只允许任意请求到GET的重定向。此外303响应禁止被缓存。大多数的浏览器处理302响应时的方式恰恰就是上述规范要求客户端处理303响应时应当做的，所以303基本用的很少，一般用302。

+ 303表示服务器要将浏览器重定向到另一个资源，这个资源的URI会写在响应Header的Location字段。事实上，重定向到的资源并不是请求的资源，而是对请求资源的一些描述。
+ 303 通常用于将POST请求重定向到GET请求。例如上传了一份个人信息，服务器返回303响应，将你导向一个上传成功页面。
+ 303 不管原请求是什么方法，重定向请求的都是GET（或者HEAD）
+ 303响应禁止被缓存。

307和308的出现也是给上面的行为做个规范，不过是不允许重定向时改变请求方法。

使用302的场景有：未登录前先使用302重定向到登录页面,登录成功后再跳回到原来请求的页面；像微博之类的使用短域名，用户浏览后需要重定向到真实的地址之类；电脑端与移动端的转换

访问百度 `http://www.baidu.com` 使用了 307 重定向 `https://www.baidu.com`

重定向也会影响搜索引擎

+ 301表示搜索引擎在抓去新内容的同时，将旧的网址替换为重定向之后的网址；
+ 302表示旧地址的资源仍存在，重定向时临时从A地址跳转到B地址，搜索引擎会抓取新的内容，并继续保存旧的网址。
